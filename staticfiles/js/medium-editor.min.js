/*!
 * Medium Editor v5.23.3 - Lightweight editor
 * Simplified version for SAFENET.AI
 */

(function() {
    'use strict';

    // Medium Editor simplified JS functionality
    function MediumEditor(elements, options) {
        this.elements = elements;
        this.options = options || {};
        this.init();
    }

    MediumEditor.prototype = {
        init: function() {
            // Initialize editor
            if (typeof this.elements === 'string') {
                this.elements = document.querySelectorAll(this.elements);
            }

            if (!this.elements) {
                return;
            }

            // Add event listeners for content elements
            if (this.elements.length) {
                for (var i = 0; i < this.elements.length; i++) {
                    this.setupElement(this.elements[i]);
                }
            } else {
                this.setupElement(this.elements);
            }
        },

        setupElement: function(element) {
            if (!element.getAttribute('contenteditable')) {
                element.setAttribute('contenteditable', true);
            }

            // Set placeholder if needed
            if (this.options.placeholder && !element.textContent.trim()) {
                element.dataset.placeholder = this.options.placeholder;
                element.classList.add('medium-editor-placeholder');
            }

            // Add basic event listeners
            element.addEventListener('focus', this.handleFocus.bind(this));
            element.addEventListener('blur', this.handleBlur.bind(this));
            element.addEventListener('input', this.handleInput.bind(this));
        },

        handleFocus: function(event) {
            var target = event.target;
            if (target.classList.contains('medium-editor-placeholder')) {
                if (target.textContent.trim() === '') {
                    target.classList.remove('medium-editor-placeholder');
                }
            }
        },

        handleBlur: function(event) {
            var target = event.target;
            if (this.options.placeholder && target.textContent.trim() === '') {
                target.classList.add('medium-editor-placeholder');
            }
        },

        handleInput: function(event) {
            var target = event.target;
            if (this.options.placeholder) {
                if (target.textContent.trim() === '') {
                    target.classList.add('medium-editor-placeholder');
                } else {
                    target.classList.remove('medium-editor-placeholder');
                }
            }
        }
    };

    // Export to window
    window.MediumEditor = MediumEditor;
})();
